---
title: Падающая тень без изображений
author: admin
type: post
date: 2012-12-31T16:43:09+00:00
url: /padayushhaya-ten-bez-izobrazhenij/
categories:
  - Css 3

---
Продолжая действовать в духе трехмерности, можно в качестве очередного шага к совершенству добавить позади каждого из облачков с текстом падающую тень. И снова мы сделаем это без использования изображений.

Падающие тени для полей создаются в CSS3 с помощью свойства box-shadow. Вы задаете смещение тени относительно поля по горизонтали и по вертикали, ее цвет и, при желании, радиус размытия и радиус распространения.

Добавьте к правилу blockquote следующие три строки кода CSS:

-moz-box-shadow: 1px 1px 2px hsla(0,0%,0%,.3);

-webkit-box-shadow: 1px 1px 2px hsla(0,0%,0%,.3); box-shadow: 1px 1px 2px hsla(0,0%,0%,.3);

Как и в примере с border-radius, все три строки делают одно и то же, просто их считывают разные браузеры: на момент написания этой главы свойство box-shadow без префикса работает только в IE 9 и Opera.

Первое значение каждого свойства, 1px, представляет смещение тени относительно поля по горизонтали — в данном случае оно приказывает браузеру сместить тень на один пиксел вправо. Второе значение, 1px, — это смещение по вертикали, сдвигающее тень на один пиксел вниз. Можно указывать и отрицательные значения; они сдвигают тень влево и вверх.

Третье значение, 2px, — это радиус размытия, указывающий, на какое количество пикселов растягивается тень. Большие значения делают тень более мягкой и размытой, а нулевое значение соответствует тени с очень четкими краями.

Четвертое значение описывает цвет — в данном случае черный с 30% непрозрачностью. Для объявления цвета в box-shadow можно использовать любой синтаксис, но

я рекомендую выбирать либо HSLA, либо RGBA — два синтаксиса, позволяющие задавать степень прозрачности цвета. Полупрозрачные тени смотрятся лучше всего, так как не закрывают собой фоновый объект. Если сделать тень, например, серой и абсолютно непрозрачной, а затем поменять фоновый цвет страницы на темно-синий, то в результате вы увидите светло-серую тень поверх темно-синего фона. В действительности тень в такой ситуации должна быть тоже синей, причем еще темнее фона — именно так она бы выглядела в реальной жизни. Используя для описания падающих теней синтаксис HSLA или RGBA и выбирая либо черный (для

<div>
  <p>
    Числовые значения в определении свойства box-shadow должны следовать точно в том порядке, как указано выше, однако цветовое значение необязательно должно занимать последнее место. При желании цвет можно указать первым.
  </p>
</div>

&nbsp;

теней), либо белый (для эффекта сияния) цвет, вы в любой момент можете сменить фоновый цвет или изображение под падающей тенью, и вам не придется соответствующим образом менять настройки самой тени. Будет создаваться впечатление, что ее цвет автоматически подстраивается под цвет и содержимое фона.

Добавив свойство box-shadow к правилу blockquote, сохраните страницу и откройте ее в современном браузере — вы увидите нежную зеленовато-серую тень, падающую чуть правее и ниже каждого из облачков с комментариями (рис. 2.21). Обратите внимание, что форма тени повторяет скругленные углы полей и учитывает значение border-radius.

<div>
  <p>
    Для создания более сложных теней используйте генератор box-shadow, находящийся по адресу http://westciv.com/tools/boxshadows. К сожалению, он не позволяет настраивать радиус размытия или создавать тень внутри поля.
  </p>
  
  <p>
    <a href="http://formstyle.com.ua/?attachment_id=1631" rel="attachment wp-att-1631"><img class="aligncenter size-full wp-image-1631" alt="Свойство box-shadow позволяет добавить тени к облачкам с текстом" src="http://formstyle.com.ua/wp-content/uploads/2012/12/Свойство-box-shadow-позволяет-добавить-тени-к-облачкам-с-текстом.png" width="675" height="392" srcset="http://formstyle.com.ua/wp-content/uploads/2012/12/Свойство-box-shadow-позволяет-добавить-тени-к-облачкам-с-текстом.png 675w, http://formstyle.com.ua/wp-content/uploads/2012/12/Свойство-box-shadow-позволяет-добавить-тени-к-облачкам-с-текстом-300x174.png 300w" sizes="(max-width: 675px) 100vw, 675px" /></a>
  </p>
  
  <p>
    Свойство box-shadow позволяет добавить тени к облачкам с текстом
  </p>
  
  <p>
    Наша падающая тень действительно создает легкий эффект объема, однако его можно дополнительно усилить, заставив облачка с текстом немного приподниматься при наведении указателя мыши. Чем дальше облачко от фона, тем больше должна быть его тень. Для того чтобы тень увеличивалась при наведении указателя мыши, добавьте следующее правило:
  </p>
  
  <p>
    blockquote:hover { top: -2px; left: -2px;
  </p>
  
  <p>
    -moz-box-shadow: 3px 3px 2px hsla(0,0%,0%,.3); -webkit-box-shadow: 3px 3px 2px hsla(0,0%,0%,.3); box-shadow: 3px 3px 2px hsla(0,0%,0%,.3);
  </p>
  
  <p>
    }
  </p>
  
  <p>
    Отрицательные значения top и left отвечают за смещение облачка с текстом и создание впечатления подвижного элемента; эффект усиливается за счет увеличения размера тени с 1 пиксела до 3 пикселов (рис. 2.22). Именно благодаря увеличению тени зрителю начинает казаться, что облачко приподнимается над фоном, а не просто сдвигается вверх на странице.
  </p>
  
  <p>
    <a href="http://formstyle.com.ua/?attachment_id=1641" rel="attachment wp-att-1641"><img class="aligncenter size-full wp-image-1641" alt="Более крупная тень визуально «приподнимает» облачко над фоном" src="http://formstyle.com.ua/wp-content/uploads/2012/12/Более-крупная-тень-визуально-«приподнимает»-облачко-над-фоном.png" width="742" height="438" srcset="http://formstyle.com.ua/wp-content/uploads/2012/12/Более-крупная-тень-визуально-«приподнимает»-облачко-над-фоном.png 742w, http://formstyle.com.ua/wp-content/uploads/2012/12/Более-крупная-тень-визуально-«приподнимает»-облачко-над-фоном-300x177.png 300w" sizes="(max-width: 742px) 100vw, 742px" /></a>
  </p>
  
  <p>
    Более крупная тень визуально «приподнимает» облачко над фоном
  </p>
  
  <p>
    коротко о свойстве box-shadow
  </p>
  
  <p>
    Свойство box-shadow входит в черновой модуль Backgrounds and Borders (Фон и границы), который вы можете найти по адресу http://dev.w3.org/csswg/css3-background/#the-box-shadow; в конечном итоге завершенный модуль будет размещен по адресу http://www.w3.org/TR/css3-background.
  </p>
  
  <p>
    В этом свойстве вы указываете смещение тени относительно поля по горизонтали и по вертикали, а также цвет тени. Также чаще всего рекомендуется задавать радиус размытия (по умолчанию он равен нулю) и, при желании, радиус распространения, положительные значения которого расширяют тень, а отрицательные — сжимают. Можно сделать так, чтобы тень отображалась внутри поля, а не снаружи: для этого добавьте ключевое слово inset в начале или в конце значения box-shadow. (Радиус распространения и ключевое слово inset не поддерживаются в Safari 4 и более ранних версиях, в Safari для iOS 3 и более ранних версиях и в IE 9.)
  </p>
  
  <p>
    С одним полем может быть связано несколько теней; просто перечислите значения внутри одного и того же свойства box-shadow, разделив их запятыми. Тени будут накладываться одна на другую, и объявленная первой окажется наверху.
  </p>
  
  <p>
    Помимо создания простых теней, свойство box-shadow можно применять для решения
  </p>
  
  <p>
    следующих задач:
  </p>
  
  <p>
    •    создание эффекта сияния (тень не смещается и, при желании, задается положительное значение радиуса распространения);
  </p>
  
  <p>
    • создание объемных кнопок;
  </p>
  
  <p>
    •    имитация нескольких рамок вокруг поля — для этого добавляется несколько свойств box-shadow с нулевым значением радиуса размытия, делающим тени резкими и четко очерченными (см. http://weston.ruter.net/2009/06/15/multiple-borders-via-css-box-shadow);
  </p>
  
  <p>
    •    имитация градиентов с использованием ключевого слова inset (см. http://girliemac.com/blog/2010/02/04/css3-box-shadow-with-inset-values-the-aqua-button-rerevisited, http://graphicpush.com/experiments-with-css3-border-radius-and-box-shadow и http:// nimbupani.com/vignettes-with-css3-box-shadows.html).
  </p>
  
  <p>
    Поддержка свойства box-shadow в браузерах
  </p>
  
  <table border="1">
    <tr>
      <td>
        IE
      </td>
      
      <td>
        Firefox
      </td>
      
      <td>
        Opera
      </td>
      
      <td>
        Safari
      </td>
      
      <td>
        Chrome
      </td>
    </tr>
    
    <tr>
      <td>
        Частично, начиная с версии 9
      </td>
      
      <td>
        Да, с префиксом -moz-, начиная с версии 3.5
      </td>
      
      <td>
        Да, начиная с версии 10.5
      </td>
      
      <td>
        Да,</p> 
        
        <p>
          с префиксом -webkit-</td> 
          
          <td>
            Да,</p> 
            
            <p>
              с префиксом -webkit-</td> </tr> </tbody> </table> 
              
              <p>
                Обходные пути для IE
              </p>
              
              <p>
                Браузер IE версии 8 и более ранних не поддерживает свойство box-shadow, однако, как и в случае с градиентами, падающие тени можно имитировать с помощью фильтров IE. Фильтры DropShadow и Shadow предназначены специально для создания падающих теней, а Glow создает равномерное сияние по всем сторонам поля. К сожалению, в отличие от свойства CSS3 box-shadow, эти фильтры не могут предложить широкого ассортимента возможностей настройки; Крис Касьяно (Chris Casciano) подробно рассказывает и иллюстрирует их потенциал в своей статье «CSS3 Box Shadow in Internet Explorer [Blur-Shadow]» по адресу http://placenamehere.com/article/384/CSS3BoxSha dowinInternetExplorerBlurShadow. Мне кажется, ни один из перечисленных фильтров не в состоянии создать эффект, который интересует нас в этом разделе.
              </p>
              
              <div>
                <p>
                  Сценарии PIE и IE-CSS3, которые уже упоминались в этой главе, также умеют создавать в IE падающие тени. Однако IE-CSS3 поддерживает только падающие тени черного цвета.
                </p>
              </div>
              
              <p>
                &nbsp;
              </p>
              
              <p>
                Кроме того, Крис в своей статье демонстрирует хитрую технику создания более реалистичной падающей тени с помощью фильтра IE Blur вместо DropShadow, Shadow или Glow. Вы создаете в коде HTML копию поля, а затем размываете ее, добиваясь нужного эффекта. Та же техника применяется в еще одной статье по адресу http://dev.opera.com/articles/view/cross-browser-box-shadows, в которой дополнительно рассматривается применение фильтра Blur для имитации тени внутри поля. Дополнительные элементы HTML, необходимые для реализации перечисленных выше эффектов, — допустимый компромисс в ситуации, когда наличие падающих теней в IE обязательно. Однако, по моему мнению, в нашем примере с комментариями в облачках такое незначительное украшение не стоит дополнительной работы и раздутого из-за лишних блоков div файла. Таким образом, мы не будем применять фильтр Blur и пытаться реализовать нужный эффект в IE; нас вполне устраивают облачка без падающих теней.
              </p></div>