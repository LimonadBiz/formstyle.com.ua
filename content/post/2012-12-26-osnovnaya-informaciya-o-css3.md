---
title: Основная информация о CSS3
author: admin
type: post
date: 2012-12-25T22:01:55+00:00
url: /osnovnaya-informaciya-o-css3/
categories:
  - Css 3

---
Прежде чем начинать использовать CSS3, необходимо понять, что это, для чего предназначено и как работает. В этой главе я расскажу о различиях между CSS3 и CSS 2.1, а также о поддержке нового стандарта в современных браузерах. Однако существуют браузеры, которые еще не в полной мере поддерживают CSS3. Для таких браузеров мы обсудим различные обходные пути и способы эмуляции возможностей CSS3. Вы узнаете о практических преимуществах, которые можете получить уже сегодня, реализовав методы CSS3 в своих проектах. Также мы поговорим о различных обоснованиях (давайте не будем использовать термин «аргументы»), способных убедить даже самых скептичных клиентов и боссов в необходимости реализации новых подходов. Наконец, вы узнаете, насколько хорошо CSS3 согласуется с методологией прогрессивного совершенствования дизайна, и познакомитесь с передовыми практиками создания надежных и рассчитанных на долгое и успешное существование веб-сайтов на базе CSS3.

<p style="text-align: center;">
  На рис. 1.1 показана главная страница сайта<a href="http://formstyle.com.ua/osnovnaya-informaciya-o-css3/glavnaya-stranica-veb-sajta-highway-safety-research-center/" rel="attachment wp-att-691"><img class="size-thumbnail wp-image-691 aligncenter" alt="Главная страница веб-сайта Highway Safety Research Center" src="http://formstyle.com.ua/wp-content/uploads/2012/12/Главная-страница-веб-сайта-Highway-Safety-Research-Center-150x150.png" width="150" height="150" srcset="http://formstyle.com.ua/wp-content/uploads/2012/12/Главная-страница-веб-сайта-Highway-Safety-Research-Center-150x150.png 150w, http://formstyle.com.ua/wp-content/uploads/2012/12/Главная-страница-веб-сайта-Highway-Safety-Research-Center-90x90.png 90w" sizes="(max-width: 150px) 100vw, 150px" /></a> HSRC. Она не сильно изменилась по сравнению с первоначальным вариантом и далеко не так сложна, как некоторые из внутренних страниц сайта, и, разумеется, в Сети можно найти множество примеров куда более сложного кода и оформления. Однако для такой простой страницы она содержит довольно много изображений. Вы также видите, что я повсюду использовала скругленные углы, малоконтрастные градиенты и тени.
</p>

Мне стало интересно, как текущая версия страницы со всеми этими изображениями ведет себя в разных браузерах, поэтому я загрузила и протестировала ее в Firefox 3.6, IE 8 и IE 6. В табл. 1.1 указано количество выполненных HTTP-запросов и среднее время загрузки страницы в каждом из браузеров.

Главная страница веб-сайта Highway Safety Research Center

Показатели загрузки исходной страницы

<table border="1">
  <tr>
    <td>
    </td>
    
    <td>
      Firefox 3.6
    </td>
    
    <td>
      IE 8
    </td>
    
    <td>
      IE 6
    </td>
  </tr>
  
  <tr>
    <td>
      HTTP-запросы
    </td>
    
    <td>
      36
    </td>
    
    <td>
      37
    </td>
    
    <td>
      47
    </td>
  </tr>
  
  <tr>
    <td>
      Время загрузки страницы (в секундах)
    </td>
    
    <td>
      1,5
    </td>
    
    <td>
      1,3
    </td>
    
    <td>
      3
    </td>
  </tr>
</table>

<a name="bookmark6"></a>Разбор ситуации: центр изучения безопасности на дорогах • 29

Нельзя сказать, что показатели времени загрузки так уж ужасны, но, определенно, они могли бы быть лучше. Особенно в IE 6 — бедным пользователям этого браузера приходится дожидаться результата довольно долго. Если бы мне удалось уменьшить число HTTP-запросов, это могло бы резко сократить время загрузки в любых браузерах.

Многие из HTTP-запросов связаны с заголовками вкладок на навигационной полосе. Для каждой вкладки используется отдельное изображение с тремя состояниями: неактивное состояние, состояние, когда подведен указатель мыши, и индикатор текущей страницы (рис. 1.2). Первоначально я создавала эту страницу, используя технику фоновых изображений под названием «спрайты CSS» (CSS sprites). При этом несколько изображений объединяются в одно, и вы перемещаетесь от одной видимой области к другой, используя свойство background-position. Однако я создала намного меньше спрайтов, чем может показаться на первый взгляд.

Изображение каждой вкладки включает три состояния ссылки

Мне не хотелось сравнивать новую версию на базе CSS3 с этой плохо оптимизированной версией, поэтому я объединила все вкладки в одно большое изображение, модифицировала код CSS для работы с этим новым изображением и протестировала отредактированный вариант страницы. Результаты показаны в табл. 1.2.

Показатели загрузки отредактированной страницы

<table border="1">
  <tr>
    <td>
    </td>
    
    <td>
      Firefox 3.6
    </td>
    
    <td>
      IE 8
    </td>
    
    <td>
      IE 6
    </td>
  </tr>
  
  <tr>
    <td>
      HTTP-запросы
    </td>
    
    <td>
      29
    </td>
    
    <td>
      30
    </td>
    
    <td>
      33
    </td>
  </tr>
  
  <tr>
    <td>
      Время загрузки страницы (в секундах)
    </td>
    
    <td>
      1,3
    </td>
    
    <td>
      1,15
    </td>
    
    <td>
      2
    </td>
  </tr>
  
  <tr>
    <td>
      Уменьшение времени загрузки
    </td>
    
    <td>
      13%
    </td>
    
    <td>
      11%
    </td>
    
    <td>
      33%
    </td>
  </tr>
</table>

Избавившись от немалой доли HTTP-запросов, я сумела заметно улучшить время загрузки страницы, особенно в IE 6. Однако не стоит забывать, что комплексное изображение-спрайт, содержащее все представления всех вкладок, намного сложнее создавать и поддерживать, чем отдельные изображения; кроме того, усложнился код CSS. Это жертва, на которую приходится идти, если вы принимаете решение использовать спрайты. Тем не менее такой вариант страницы гораздо лучше подходит для сравнения с версией на базе CSS3.

<a name="bookmark51"></a>После CSS3

Для создания CSSS-версии страницы я удалила девять изображений и заменила их эквивалентами, реализованными исключительно с помощью CSS (рис. 1.3). Несмотря на изменения, в современных браузерах версии страницы «до» и «после» выглядят почти идентично.

<a href="http://formstyle.com.ua/osnovnaya-informaciya-o-css3/posle-css3/" rel="attachment wp-att-771"><img class="aligncenter size-medium wp-image-771" alt="После CSS3" src="http://formstyle.com.ua/wp-content/uploads/2012/12/После-CSS3-300x216.png" width="300" height="216" srcset="http://formstyle.com.ua/wp-content/uploads/2012/12/После-CSS3-300x216.png 300w, http://formstyle.com.ua/wp-content/uploads/2012/12/После-CSS3.png 786w" sizes="(max-width: 300px) 100vw, 300px" /></a>

В отмеченных на рисунке местах ранее использовались девять изображений. В целом страница выглядит почти так же, как на рис. 1.1

Я убрала изображение-спрайт, на основе которого были реализованы вкладки, и теперь для оформления вкладок изображения вовсе не используются — только свойство border-radius и градиенты из числа возможностей CSS3 (рис. 1.4). Благодаря таким изменениям в заголовках вкладок появился настоящий текст, а не изображение текста, что делает их более удобными в использовании для людей с ограниченными возможностями.

Ту же технику я применила для оформления двух вкладок внизу страницы; кроме того, градиентное фоновое изображение для нижнего колонтитула я заменила градиентом из CSS3. Градиенты CSS3 теперь также используются в качестве фона для полей Project Areas и Latest News. Наконец, я убрала небольшой градиент внизу заголовка, добавив вместо него свойство box-shadow к навигационной полосе.

Благодаря свойству border-radius мне удалось избавиться от изображений скругленных углов вверху и внизу поля Project Areas, внизу содержащегося внутри него списка и в заголовке Latest News. Что касается текста заголовков HSRC Project Areas и Latest News, вместо того чтобы продолжать использовать изображения, я применила к реальному тексту правило font-face. Выбранный шрифт не идентичен тому, что использовался на изображениях, так как лицензия старого шрифта не поддерживает встраивание @font-face. Тем не менее новый шрифт очень похож на него, так что большинство посетителей даже не заметит разницы. Для нижнего обрамления текста HSRC Project Areas, включающего три рамки, я использовала свойство box-shadow, которое способно создавать впечатление наличия нескольких рамок без использования фактического изображения.

Разумеется, этим список возможных усовершенствований не ограничивается, и на веб-странице, которую я взяла для примера, можно было бы внедрить еще очень много функций CSS3. Я продемонстрировала лишь самые быстрые и простые изменения, которые не приводят к проблемам при отображении страницы в устаревших и не поддерживающих CSS3 браузерах. Размер файла с кодом CSS немного увеличился за счет внедренных новых возможностей, однако изменение действительно незначительно, так как новый код большей частью заменяет длинные объявления background. Код HTML остался неизменным, за исключением некоторых ссылок в теге head.

Таблица 1.3 демонстрирует производительность новой страницы. Несмотря на то что правило @font-face добавило два новых HTTP-запроса, общее число запросов, тем не менее, значительно сократилось благодаря тому, что я избавилась от девяти изображений. Я также убрала сценарий JavaScript, который использовался в IE 6 для поддержки изображений PNG с прозрачностью в альфа-канале. Необходимости в этом сценарии больше нет, так как у нас не осталось подобных изображений PNG.

Показатели загрузки страницы с функциональностью CSS3

<table border="1">
  <tr>
    <td>
    </td>
    
    <td>
      Firefox 3.6
    </td>
    
    <td>
      IE 8
    </td>
    
    <td>
      IE 6
    </td>
  </tr>
  
  <tr>
    <td>
      HTTP-запросы
    </td>
    
    <td>
      22
    </td>
    
    <td>
      23
    </td>
    
    <td>
      24
    </td>
  </tr>
  
  <tr>
    <td>
      Время загрузки страницы (в секундах)
    </td>
    
    <td>
      1,1
    </td>
    
    <td>
      1
    </td>
    
    <td>
      1,5
    </td>
  </tr>
  
  <tr>
    <td>
      Уменьшение времени загрузки
    </td>
    
    <td>
      15%
    </td>
    
    <td>
      13%
    </td>
    
    <td>
      25%
    </td>
  </tr>
</table>

Значения в последней строке отражают уменьшение времени загрузки по сравнению с оптимизированной версией «до» — той, в которой использовалось одно большое изображение-спрайт. В среднем, время загрузки уменьшилось на 15% в Firefox 3.6, на 13% в IE 8 и на 25% в IE 6. Конечно, это не самый хороший пример; время загрузки можно было бы дополнительно уменьшить, заменив кодом CSS3 еще несколько изображений. Для более крупных и сложных сайтов, где на одной странице можно запросто встретить несколько дюжин «интерфейсных» изображений (в противоположность изображениям из материалов сайта, таким как фотографии), разница во времени загрузки между первоначальной версией и версией, оптимизированной за счет CSS3, может быть еще значительнее. Я лишь хотела продемонстрировать, что даже самые базовые возможности CSS3 способны заставить страницу загружаться значительно быстрее, а также немного повысить удобство в использовании и упростить доступ.

В конечном итоге это означает, что посетители сайта станут счастливее, а для разработчика веб-сайта нет большей радости, чем счастливые пользователи.

Забавно — несмотря на то что пользователи IE 6 не видят внесенных усовершенствований, они получают наибольшие преимущества от замены традиционных изображений функциональностью CSS3, ведь для них изменение в скорости загрузки страницы намного заметнее.

<div>
  <p>
    Бета-версия IE 9, доступная на момент написания этой главы, поддерживает большинство добавленных эффектов CSS3, а ко времени выпуска финальной версии этот браузер, вероятно, будет справляться с функциональностью CSS3 еще лучше.
  </p>
</div>

&nbsp;

Однако что же видят пользователи IE 6? Ужасную искаженную картинку? Вы можете сами проверить, взглянув на рис. 1.5. Здесь представлен результат, полученный в версии IE 8, но поверьте мне на слово, что в IE 6 он практически не отличается. Пользователи IE видят прямые углы вместо скругленных, кроме того, им недоступны утонченные градиенты. Разницы почти нет? Я бы не сказала. Это ужасно? И снова — я так не думаю. Пользователи IE могут по каким-либо признакам догадаться, что лишены определенных визуальных эффектов? Вряд ли. Но даже если бы смогли — разве променяли бы они быструю загрузку страницы на скругленные углы полей?

Невозможность отображения некоторых визуальных эффектов в IE можно было бы обойти, дополнительно передавая браузеру изображения скругленных углов и т. п., но стоит ли игра свеч? Это дополнительная работа для вас, к тому же сводящая на нет выигрыш в производительности, которого нам удалось добиться для пользователей IE. Все зависит от конкретного проекта, и очень часто подобные жертвы оправданы. Даже в этой книге мы периодически будем добавлять различные обходные пути для IE. Я не говорю, что не следует обращать внимание на уникальные особенности IE и других браузеров, я просто хочу научить вас взвешивать все за и против.

<a href="http://formstyle.com.ua/osnovnaya-informaciya-o-css3/nesmotrya-na-to-chto-eti-brauzery-ne-ponimayut-dobavlennyj-mnoj-kod-css3-stranica-xorosho-vyglyadit-v-ie-versii-8-i-bolee-rannix/" rel="attachment wp-att-781"><img class="aligncenter size-medium wp-image-781" alt="Несмотря на то что эти браузеры не понимают добавленный мной код CSS3, страница хорошо выглядит в IE версии 8 и более ранних" src="http://formstyle.com.ua/wp-content/uploads/2012/12/Несмотря-на-то-что-эти-браузеры-не-понимают-добавленный-мной-код-CSS3-страница-хорошо-выглядит-в-IE-версии-8-и-более-ранних-300x212.png" width="300" height="212" srcset="http://formstyle.com.ua/wp-content/uploads/2012/12/Несмотря-на-то-что-эти-браузеры-не-понимают-добавленный-мной-код-CSS3-страница-хорошо-выглядит-в-IE-версии-8-и-более-ранних-300x212.png 300w, http://formstyle.com.ua/wp-content/uploads/2012/12/Несмотря-на-то-что-эти-браузеры-не-понимают-добавленный-мной-код-CSS3-страница-хорошо-выглядит-в-IE-версии-8-и-более-ранних.png 773w" sizes="(max-width: 300px) 100vw, 300px" /></a>

<a name="bookmark52"></a>Несмотря на то что эти браузеры не понимают добавленный мной код CSS3, страница хорошо выглядит в IE версии 8 и более ранних.