---
title: 'CSS3: СКРУГЛЕНИЕ УГЛОВ'
author: admin
type: post
date: 2012-12-26T16:02:19+00:00
url: /css3-skruglenie-uglov/
categories:
  - Css 3

---
<a name="bookmark12"></a>ГРАФИЧЕСКИЕ ЭФФЕКТЫ БЕЗ ГРАФИКИ

Используя возможности CSS3, живописные облачка с текстом можно создавать, не добавляя на страницу ни единого изображения. Отсутствие графики дает сразу несколько преимуществ, помимо восторженного отношения со стороны коллег-дизайнеров. Вы не тратите время и усилия на создание, нарезку и оптимизацию графики, а затем на переделку всего уже созданного из-за неизбежных требований клиента внести то или иное небольшое изменение. А посетители вашего сайта наслаждаются быстрой загрузкой страницы, которая возможна благодаря уменьшению объема данных и количества HTTP-запросов к серверу.

<a name="bookmark61"></a>СКРУГЛЕНИЕ УГЛОВ

Эти четко очерченные прямоугольные поля для комментариев совсем не похожи на облачка, ведь так? Давайте для начала скруглим углы, чтобы придать им более мягкую, обтекаемую форму.

Скругленные углы — это простой и распространенный визуальный эффект, который раньше на удивление сложно было реализовывать на веб-страницах. Приходилось не только тратить время на создание изображений скругленных углов в графических приложениях, но и подолгу просиживать над добавлением кода HTML и CSS. Для определения местоположения каждого угла зачастую нужно было создавать целый букет вложенных блоков div, ведь спецификация CSS 2.1 допускала наличие у поля не более одного фонового изображения. Таким образом, код CSS, относящийся к размещению изображений, мог стать очень и очень сложным. Изображения, в дополнение к чрезмерно раздутому коду HTML и CSS, изрядно увеличивали объем

данных, которые приходилось загружать каждому пользователю, и это снижало скорость загрузки страниц. Даже если вы применяли сценарии динамического создания скругленных углов, не создавая и не встраивая изображения вручную, все равно вы своими руками увеличивали число файлов для загрузки пользователями и уменьшали производительность страниц. И все это ради банальных скругленных углов!

создание овалов и окружностей с помощью свойства border-radius

Если вы хотите, чтобы облачка с текстом имели овальную форму, а не форму прямоугольников со скругленными углами, для этого нужно определить углы не как дуги окружности, а как эллиптические дуги. Эллиптическая дуга, в отличие от дуги окружности, немного спрямлена — просто вспомните, как выглядит овал. Для того чтобы задать скругление угла по эллиптической дуге, укажите два значения, разделив их косой чертой, примерно так: border-radius: 50px/20px. (В Safari 3 и 4 используется нестандартный синтаксис, без косой черты, и два значения разделяются простым пробелом.) Предыдущие значения описывают сглаженную эллиптическую кривую, вытянутую на 50 пикселов по горизонтали, но только на 20 пикселов по вертикали. Для всех углов можно указать разные значения. Подробнее об этом рассказывается на веб-сайте <http://css-tricks.com/snippets/css/rounded-corners>. Чтобы создать окружность, сначала определите поле с одинаковыми значениями width и height; используйте единицы изменения em, а не пикселы, для того чтобы размер поля автоматически подстраивался под увеличивающиеся блоки текста. Затем для каждого угла укажите значение свойства border-radius, вполовину меньшее значения width/height. Например, для поля шириной и высотой 10 em используйте значение border-radius, равное

5 em. Еще больше примеров вы найдете на веб-сайте http://blog.creativityden.com/the-hidden-power-of-border-radius-2.

С другой стороны, в CSS3 для создания скругленных углов достаточно всего-навсего добавить в один блок div еще одну строку кода, например: border-radius: 10px. Никакой дополнительной разметки, никаких изображений, никакого JavaScript.

Разумеется, с учетом непрерывного совершенствования CSS3 и внедрения в браузерах поддержки новых спецификаций в реальном мире все становится чуть сложнее. Однако по сравнению с другими подходами, это совершеннейшие пустяки.

У вас все так же должен быть открыт файл speech-bubble_start.html. Отредактируйте правило blockquote, добавив следующий код:

blockquote {

margin: 0 0 0 112px; padding: 10px 15px 5px 15px;

-moz-border-radius: 20px;

-webkit-border-radius: 20px; border-radius: 20px; border-top: 1px solid #fff; background-color: #A6DADC; word-wrap: break-word;

<sup>}</sup>

Объявление border-radius: 20px; — это стандартный синтаксис W3C для скругленных углов. Оно означает, что все четыре угла поля скругляются на 20 пикселов. Данный синтаксис в настоящее время поддерживается в браузерах Opera, Chrome, Safari 5 и IE 9. В Firefox и Safari 4 и более ранних версиях используются свойства -moz-border-radius и-webkit-border-radius соответственно. Как я уже говорила в главе 1, производители браузеров применяют подобные уникальные префиксы, пока разработка спецификации не завершена, на случай, если что-то кардинально поменяется. Версия того же свойства, но без префикса (в данном случае border-radius) всегда должна находиться на последнем месте; таким образом, если браузеры поддерживают свойство без префикса, то оно переопределяет предыдущие правила, которые могут наследовать нестандартное поведение от более ранних версий спецификации.

коротко о свойстве border-radius

<div>
  <p>
    При использовании свойства border-radius необязательно заранее объявлять рамку поля. Если рамки нет, браузер скругляет углы фоновой области.
  </p>
</div>

&nbsp;

Свойство border-radius входит в модуль Backgrounds and Borders (Фон и границы), который вы найдете по адресу <http://www.w3.org/TR/css3-background>. Оно объединяет четыре свойства, указывающих степень скругления каждого из четырех углов поля, в следующем порядке: border-top-left-radius, border-top-right-radius, border-bottom-right-radius, border-bottom-left-radius. В браузере Mozilla свойства для отдельных углов поля обладают нестандартным синтаксисом: -moz-border-radius-topleft и т. п.

Все четыре значения можно перечислить внутри одного свойства border-radius, разделив их пробелами; можно также использовать одно общее значение для единообразного скругления всех углов. В Safari 4 и Safari для iOS 3 и более ранних версий добавление нескольких значений в одно свойство border-radius не поддерживается; разрешается указать только одно значение, которое будет применено ко всем углам (табл. 2.2.).

Синтаксис для создания эллиптических дуг в углах поля приводится во врезке «Создание овалов и окружностей с помощью свойства border-radius» чуть выше. На страницах http://www.owlfolio.org/htmletc/border-radius и http://muddledramblings.com/table-of-css3-border-radius-compliance/ вы найдете более подробное описание деталей синтаксиса и множество примеров. Помимо облачков с текстом, с использованием свойства border-radius можно оформлять следующие элементы:

•    кнопки (см. http://blogfreakz.com/button/css3-button-tutorials и http://css-tricks.com/examples/ButtonMaker);

• заголовки вкладок;

• диалоговые окна;

•    круглые эмблемы;

•    столбцовые диаграммы (см. http://www.marcofolio.net/css/animated\_wicked\_css3\_3d\_ bar_chart.html);

•    смайлики (см. http://ryanroberts.co.uk/_dev/experiments/css-border-faces).

Таблица 2.2. Поддержка свойства border-radius в браузерах

<table border="1">
  <tr>
    <td>
      IE
    </td>
    
    <td>
      Firefox
    </td>
    
    <td>
      Opera
    </td>
    
    <td>
      Safari
    </td>
    
    <td>
      Chrome
    </td>
  </tr>
  
  <tr>
    <td>
      Да, начиная с версии 9
    </td>
    
    <td>
      Да, с префиксом -moz-
    </td>
    
    <td>
      Да
    </td>
    
    <td>
      Да, начиная с версии 5; с префиксом -webkit-, начиная с версии 4
    </td>
    
    <td>
      Да
    </td>
  </tr>
</table>

Три дополнительные строчки кода создают эффект скругленных углов во всех браузерах, за исключением IE 8 и более ранних версий (рис. 2.4). Эти версии IE попросту

игнорируют перечисленные свойства и сохраняют углы полей прямыми, не искажая страницу. Это отличный пример прогрессивного усовершенствования, о котором я подробно рассказала в первой главе. Поскольку сейчас речь идет об исключительно декоративных эффектах, пользователи IE нисколько не страдают от их отсутствия. Если вы не согласны с моим мнением, читайте дальше.

<div>
  <p>
    Вы заметили, что я все время упоминаю первую главу? Если вы пропустили ее, пожалуйста, вернитесь назад и прочитайте прямо сейчас. Там говорится об очень важных вещах.
  </p>
  
  <p>
    <a href="http://formstyle.com.ua/css3-skruglenie-uglov/svojstvo-border-radius-primeneno-pravilno-obxodnye-puti-dlya-ie/" rel="attachment wp-att-1151"><img class="aligncenter size-full wp-image-1151" alt="Свойство border-radius применено правильно Обходные пути для IE" src="http://formstyle.com.ua/wp-content/uploads/2012/12/Свойство-border-radius-применено-правильно-Обходные-пути-для-IE.png" width="717" height="416" srcset="http://formstyle.com.ua/wp-content/uploads/2012/12/Свойство-border-radius-применено-правильно-Обходные-пути-для-IE.png 717w, http://formstyle.com.ua/wp-content/uploads/2012/12/Свойство-border-radius-применено-правильно-Обходные-пути-для-IE-300x174.png 300w" sizes="(max-width: 717px) 100vw, 717px" /></a>
  </p>
  
  <p>
    Рис. 2.4. Свойство border-radius применено правильно Обходные пути для IE
  </p>
  
  <p>
    Если перед вами стоит задача в обязательном порядке создать эффект скругленных углов в IE 8 и более ранних версиях браузера, я советую использовать один из этих сценариев:
  </p>
  
  <p>
    ■    PIE автора Jason Johnston (<a href="http://css3pie.com/">http://css3pie.com/</a>) считывает свойства border-radius, присутствующие в коде CSS, и делает так, чтобы они заработали в IE 6 и предыдущих версиях. Этот сценарий также реализует в IE некоторые другие эффекты CSS3;
  </p>
  
  <p>
    <a name="bookmark62"></a>■    curved-corner автора Remiz Rahnas (<a href="http://code.google.com/p/curved-corner/">http://code.google.com/p/curved-corner/</a>)
  </p>
  
  <p>
    также считывает свойства border-radius из кода CSS, но работает только в том случае, если для всех четырех углов указаны одинаковые значения свойства border-radius;
  </p>
  
  <p>
    ■    IE-CSS3 автора Nick Fetchak (<a href="http://fetchak.com/ie-css3/">http://fetchak.com/ie-css3/</a>) предназначается в основном для добавления скругленных углов, но также создает в IE падающие тени;
  </p>
  
  <p>
    <a name="bookmark63"></a>■    DD_roundies автора Drew Diller (<a href="http://dillerdesign.com/experiment/DD_roundies/">http://dillerdesign.com/experiment/DD_roundies/</a>)
  </p>
  
  <p>
    позволяет скруглять углы по отдельности, однако не считывает значения из кода CSS; вы должны вручную указать каждое из необходимых значений для IE.
  </p>
  
  <p>
    Помимо этих ориентированных на IE решений, для скругления углов можно использовать массу других сценариев и методов, основанных на изображениях, которые были разработаны до того, как свойство border-radius вошло в обиход. В случае необходимости вы всегда можете прибегнуть к одному из этих испытанных временем способов. Множество вариантов перечислено на веб-сайтах <a href="http://www.smileycat">http://www.smileycat</a>. com/miaow/archives/000044.php и <a href="http://css-discuss.incutio.com/wiki/Rounded_Corners">http://css-discuss.incutio.com/wiki/Rounded_Corners</a>.
  </p>
  
  <p>
    Если вы решите использовать сценарий или изображения для имитации скругленных углов в IE, удостоверьтесь, что эти вспомогательные инструменты скрыты от других браузеров. Поместите ссылки на сценарии или стили IE в условные комментарии, прибегните к помощи Modernizr или используйте оба подхода одновременно, как рассказывается в главе 1. Таким образом, только пользователи IE испытают падение производительности, связанное с одним из старинных методов скругления углов, а пользователи остальных браузеров смогут наслаждаться быстрой версией сайта на базе чистого CSS. Вам придется самостоятельно принять решение, стоит ли дополнительная работа и падение производительности того, чтобы пользователи IE увидели скругленные углы вместо прямых.
  </p>
</div>