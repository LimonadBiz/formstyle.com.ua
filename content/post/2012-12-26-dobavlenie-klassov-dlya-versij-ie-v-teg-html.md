---
title: Добавление классов для версий IE в тег html
author: admin
type: post
date: 2012-12-26T15:56:01+00:00
url: /dobavlenie-klassov-dlya-versij-ie-v-teg-html/
categories:
  - Css 3

---
Еще один способ применения условных комментариев подразумевает добавление в тег html классов, указывающих версии IE, вместо «скармливания» соответствующим версиям браузера собственных таблиц стилей. После этого вам остается только написать в основной таблице стилей правила для каждого из перечисленных классов. Данная техника не так распространена, как вариант с условными комментариями, однако она набирает популярность благодаря Полу Айришу (Paul Irish), который рассказал о ней в своем блоге в 2008 году (http:// paulinsh.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/).

<div>
  <p>
    Дополнительные пробелы между тегами нужны только для удобства чтения. В коде своих страниц вы можете их удалить.
  </p>
</div>

&nbsp;

Код HTML выглядит при этом приблизительно так:

<!&#8212;[if lt    IE 7]>    <html    class=&#187;ie6&#8243;    lang=&#187;en&#187;>    <![endif]&#8212;>

<!&#8212;[if IE    7]>    <html    class=&#187;ie7&#8243;    lang=&#187;en&#187;>    <![endif]&#8212;>

<!&#8212;[if IE    8]>    <html    class=&#187;ie8&#8243;    lang=&#187;en&#187;>    <![endif]&#8212;>

<!&#8212;[if IE    9]>    <html    class=&#187;ie9&#8243;    lang=&#187;en&#187;>    <![endif]&#8212;>

<!&#8212;[if gt    IE 9]>    <html    lang=&#187;en&#187;> <![endif]&#8212;>

<!&#8212;[if !IE]>&#8212;> <html lang=&#187;en&#187;> <!&#8212;<![endif]&#8212;>

<a name="bookmark55"></a>ПОЧЕМУ ТЕГ HTML?

Если вам так больше нравится, вместо тега html-классы можно прописать в теге body или в обрамляющем блоке div — главное, чтобы это был элемент, окружающий все прочие элементы на страницы.

Однако у элемента html есть определенное преимущество над остальными обрамляющими тегами: он не блокирует параллельную загрузку таблиц стилей в IE 8 (об этом рассказывалось выше, во врезке «Недостатки условных комментариев»). Добавление условных комментариев в тег body или обрамляющий блок div не устраняет эту ошибку в IE 8 — вам все равно приходится добавлять пустой условный комментарий над основным файлом CSS.

Стоит упомянуть также, что в HTML4 и XHTML1 в теге html не допускалось использование атрибутов class, поэтому данный метод сломал бы разметку страницы. Однако в HTML5 с этим проблем нет — а в этой книге мы, к счастью, работаем именно с версией HTML5.

Я понимаю, что вывалила на вас массу информации, которую трудно понять с ходу. Но если разобраться, все оказывается не так сложно. Браузеры просто считывают код строка за строкой, и разные версии IE выделяют для себя разные теги html. Например, когда IE 6 загружает страницу, он видит условный комментарий, содержащий символы lt IE 7. Он говорит: «Точно, у меня же версия меньше 7! Значит, я применю код, содержащийся внутри этого условного комментария!» Таким образом, IE 6 выделяет строку HTML-кода <html lang=&#187;en&#187;>. После этого IE 6 переходит к следующему условному комментарию, понимает, что тот к нему не относится, и попросту пропускает его. И так далее до конца страницы. Это происходит со всеми версиями IE, поэтому каждая получает только один тег html, а в каждом теге html содержится класс, идентифицирующий используемую версию IE.

Остальные браузеры, отличные от IE, игнорируют все условные комментарии, поэтому не обращают внимания на первые пять строк. В шестой строке содержится условный комментарий с выявлением на нижнем уровне, поэтому IE его не учитывает, а остальные браузеры используют. Таким образом, все прочие браузеры применяют только последнюю строку, включающую простой, не содержащий классов тег html.

Добавив этот фрагмент кода HTML, вы можете приступать к созданию правил для любых версий IE. Они добавляются прямо в основную таблицу стилей, что устраняет необходимость в лишнем HTTP-запросе и упрощает отладку и поддержку — ведь теперь все правила содержатся в одном общем файле. Вы не прибегаете к помощи трюков и не беспокоитесь, что браузеры, отличные от IE, прочитают не предназначенный для них код. Например, для того чтобы передать IE 6 значение height (с целью компенсировать отсутствие поддержки min-height), можно добавить такой код:

div { min-height: 100px; }

.ie6 div { height: 100px; }

Конечно, добавление правил для IE в основную таблицу стилей увеличивает размер файла, но увеличение не так существенно — при условии, что вы не захламляете свой код CSS трюками и пишете его так, чтобы избежать типичных проблем IE. Кроме того, не забывайте, что в терминах производительности запросы HTTP обходятся намного дороже, чем пара лишних килобайт, поэтому данный метод в целом эффективнее — как в смысле скорости загрузки страницы, так и для упрощения разработки и поддержки.

Я считаю наилучшим выбором именно последний вариант, с фильтрацией версий IE, и использую его в примерах в этой книге. Но если вы не разделяете моих предпочтений, то можете опустить классы html и выделить правила IE в отдельные таблицы стилей.