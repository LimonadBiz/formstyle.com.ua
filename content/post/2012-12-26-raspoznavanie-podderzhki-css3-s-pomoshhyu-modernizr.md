---
title: Распознавание поддержки CSS3 с помощью Modernizr
author: admin
type: post
date: 2012-12-26T15:52:38+00:00
url: /raspoznavanie-podderzhki-css3-s-pomoshhyu-modernizr/
categories:
  - Css 3

---
Не всегда удается добавить в одно правило два разных значения для поддерживающих и не поддерживающих CSS3 браузеров, как я сделала выше, в примере с фоновым цветом. Иногда альтернативные значения начинают конфликтовать. А бывает, что они не конфликтуют, но вам хотелось бы создать совершенно иной и более широкомасштабный вариант замены для старых браузеров, который не должен считываться и использоваться в браузерах с поддержкой CSS3.

Можно было бы прибегнуть к «вынюхиванию» браузера — программными методами определять версию браузера пользователя и создавать разные правила для разных браузеров — однако это грубый и ненадежный способ. Намного более удачным решением станет использование сценария Modernizr, который можно загрузить с веб-сайта http://www.modernizr.com. Этот сценарий определяет, поддерживает ли браузер пользователя определенные возможности CSS3 и HTML5. Затем Modernizr добавляет к элементу html-классы, позволяющие понять, что поддерживается, а что нет. Например, no-multiplebgs указывает, что браузер не поддерживает использование нескольких фоновых изображений для одного элемента, а multiplebgs — наоборот, что поддержка нескольких фоновых изображений успешно реализована.

Получив набор таких классов, вы можете с легкостью создать стили для всех классов и пребывать в уверенности, что каждое правило будет считываться только теми браузерами, которые поддерживают (или не поддерживают) соответствующий элемент CSS3 или HTML5. Следующие правила устанавливают разные фоновые цвета или изображения в зависимости от того, поддерживает браузер использование нескольких фоновых изображений или нет:

#wrapper {

background-color: #ccc;

background-image: url(one.png), url(two.png), url(three.png);

<sup>}</sup>

.no-multiplebgs #wrapper {

background-image: url(alternate.gif);

<sup>}</sup>

Первое правило видят все браузеры, вне зависимости от того, включено ли использование JavaScript и поддерживают ли они CSS3. Браузеры, в которых добавление нескольких фоновых изображений невозможно, отображают сплошной фоновый цвет, а остальные — три фоновых изображения. Следующее правило видят только браузеры, не поддерживающие несколько фоновых изображений, в которых использование JavaScript включено. Они считывают единственное альтернативное фоновое изображение и выводят его вместо трех отдельных, которые им недоступны. Таким образом, независимо от того, насколько хорошо браузеры поддерживают CSS и включено ли использование JavaScript, в обрамляющем блоке div каждый из них получает определенное фоновое изображение.

Modernizr лучше всего справляется с задачей предоставления альтернативных стилей браузерам, не поддерживающим CSS3 (в противоположность эмулированию эффектов CSS3). Однако в определенных ситуациях этот сценарий можно применять и для имитации поведения или оформления CSS3. Например, вы желаете скруглить

углы поля. Тогда для некоторых браузеров будет достаточно свойства border-radius, а остальным придется предоставить фоновое изображение скругленных углов:

<div>
  <p>
    Настоящий код CSS для правил no-border-radius должен быть сложнее, чем в представленном выше примере: позицию каждого изображения угла необходимо указать отдельно и, возможно, для нескольких элементов HTML. Я упростила CSS для того, чтобы в этом примере сфокусироваться на работе Modernizr.
  </p>
</div>

&nbsp;

div {

-moz-border-radius: 10px; -webkit-border-radius: 10px; border-radius: 10px;

<sup>}</sup>

.no-border-radius div {

background: url(corners.gif);

<sup>}</sup>

Modernizr может быть очень полезным помощником. Я рекомендую вам ознакомиться со статьей Фарука Атеса «Taking Advantage of HTML5 and CSS3 with Modernizr» (http://www.aNstapart.com/artides/takmg-advantage-of-html5-and-css3-with-modernizr); там вы найдете несколько отличных примеров применения Modernizr для подгонки стилей к возможностям браузеров.